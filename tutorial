# Collection of recommended first steps for an awesome Linux installation

# ===========================================================================
# Install according to the excellent resourced at the Arch wiki. This should
# include partitioning, installing Arch base, installing networking tools,
# and setting up GRUB.

# ===========================================================================
# Absolutely required (install as root)

# essential cmd line tools
sudo zsh vim git stow tmux
openssh keychain curl wget

# essential development tools
make cmake autoconf automake
gcc python2 python3

# misc utils from base-devel group
# Required for AUR
bison fakeroot flex patch pkg-config

# create user account
useradd -m -s /bin/zsh liam
passwd liam
# add to sudoers with visudo
# find line containing 'root ALL=(ALL) ALL', add line 'liam ALL=(ALL) ALL'

# ===========================================================================
# Network configuration

# Set up a new netctl profile. This should be copied from:
/etc/netctl/examples

# wpa_config should work for any wireless networks. From here:
netctl start my_profile
netctl enable my_profile # automatically connect next reboot

# ===========================================================================
# Set up SSH credentials

# Generate SSH key pair
ssh-keygen

# Be sure to log in to GitHub and add ~/.ssh/id_rsa.pub. You may have to do
# this using a different device with a functioning web browser.

# ===========================================================================
# Get dotfiles

git clone git@github.com:LiamPattinson/dotfiles.git

# Enter dir, stow any desired packages.
# Be sure that your $HOME directory has the required directory structure
# being stowing -- if it doesn't, it'll create symlink directories to the
# ~/dotfiles dir, which will cause all kinds of problems.

# Make .bash_local in home directory
# This should include, at a minimum:
export WLAN=<wlan_driver>

# ===========================================================================
# Upgrade zsh, oh-my-zsh

sh -c "$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"

# This will, quite rudely, push your .zshrc to .zshrc.pre-oh-my-zsh.
# Fix this by calling `stow zsh` from ~/dotfiles.

# ===========================================================================
# Upgrade vim, vundle

git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
vim +PluginInstall +qall

# Remember to stow your .vimrc!

# ===========================================================================
# Upgrade tmux

git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

# Run tmux, call Prefix+I

# ===========================================================================
# Graphics

# Enable x-graphics, provide startx command for firing it up.
# Note: may need extensions from xorgs-apps group
xorg-server xorg-xinit xorg-xrdb

# For backlight adjustment / multiple screens / gamma adjustment
xorg-xbacklight xorg-xrandr xorg-xgamma

# screensaver control
xscreensaver

# Intel graphics
xf86-video-intell mesa
# Or you're on a decent machine...
nvidia nvidia-utils
# Or perhaps some specific driver name

# Minimum LXDE:
lxde-common lxsession

# To edit appearance:
lxappearance gtk-chtheme
# Recommend theme 'weightless-industry', font Roboto light 7

# Simple window manager
openbox

# Terminal emulator
rxvt-unicode

# Download the following fonts at a minimum.
ttf-roboto ttf-hack ttf-droid

# To enable Python IDLE
tk

# ===========================================================================
# Openbox config

# Install the following
openbox-themes

# OpenBox menu will require manual edits for any new software.

# Lightweight image viewer / desktop background:
feh
feh --bg-center dotfiles/ArchBlueWall.jpg

# Image manip:
imagemagick

# PDF viewer:
apvlv

# ===========================================================================
# Conky
# Desktop system diagnostics

# For simple install:
conky

# For a more complex install including Lua extensions, must use AUR version
# (Github version has issues with build system)
cd ~/AUR
git clone https://aur.archlinux.org/conky-lua.git
cd conky-lua
makepkg -sirc

# ===========================================================================
# Sound

alsa-utils

# ===========================================================================
# File Manager

# Terminal-based: midnight commander
mc

# GUI: pcmanfm
pcmanfm

# ===========================================================================
# Web-browsing / Email client

# Any mainstream browser requires a shitload of dependencies, and will likely
# bloat your install by around 0.5GB. Recommend Firefox and Thunderbird, as
# these share many dependencies. Chromium also shares quite a few, so it
# doesn't cost too much to additionally install that.
firefox thunderbird

# ===========================================================================
# Multimedia

# Video playback, DVD support
vlc

# ===========================================================================
# Developer / Scientist kit

# More languages
gcc-fortran lua
rust ghc

# Debugging
gdb
valgrind 

# Miniconda (install to opt)
# Install with:
curl -o miniconda3_install.sh 'https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh'
# When prompted, tell it to install to /opt/anaconda
# To enter/leave anaconda environment, call:
source activate/deactivate
# Install the following at a minimum:
conda install numpy scipy matplotlib seaborn pandas scikit-learn

# HPC components
blas lapack fftw openmpi hdf5

# Optional bloaty things
gnuplot octave

# ===========================================================================
# LaTeX

# Best to do this via texlive. At a minimum, install:     (v. large download)
texlive-core texlive-bin biber

# To get some more obscure packages:                        (medium download)
texlive-latexextra

# For various mathematics and science packages:              (small download)
texlive-science

# For publications, you may need:                           (medium download)
texlive-publishers

# From here, it is best to install packages as you need them.

# Apologies for the bloat
